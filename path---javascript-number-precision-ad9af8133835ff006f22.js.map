{"version":3,"sources":["webpack:///path---javascript-number-precision-ad9af8133835ff006f22.js","webpack:///./.cache/json/javascript-number-precision.json"],"names":["webpackJsonp","263","module","exports","data","site","siteMetadata","title","author","markdownRemark","id","html","frontmatter","date","headings","value","depth","pathContext","slug","previous","fields","next"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,MAAQC,cAAgBC,MAAA,OAAAC,OAAA,QAA+BC,gBAAmBC,GAAA,mHAAAC,KAAA,w5ZAA6sRC,aAAivJL,MAAA,yBAAAM,KAAA,iBAAwDC,WAAcC,MAAA,OAAAC,MAAA,IAA2BD,MAAA,QAAAC,MAAA,IAA4BD,MAAA,OAAAC,MAAA,IAA2BD,MAAA,SAAAC,MAAA,IAA6BD,MAAA,OAAAC,MAAA,IAA2BD,MAAA,KAAAC,MAAA,IAAyBD,MAAA,UAAAC,MAAA,IAA8BD,MAAA,aAAAC,MAAA,IAAiCD,MAAA,mBAAAC,MAAA,IAAuCD,MAAA,KAAAC,MAAA,MAA0BC,aAAgBC,KAAA,gCAAAC,UAAmDC,QAAUF,KAAA,+BAAqCN,aAAgBL,MAAA,wBAA+Bc,MAASD,QAAUF,KAAA,2BAAiCN,aAAgBL,MAAA","file":"path---javascript-number-precision-ad9af8133835ff006f22.js","sourcesContent":["webpackJsonp([35175243055970],{\n\n/***/ 263:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"site\":{\"siteMetadata\":{\"title\":\"剑与魔法\",\"author\":\"林泽斌\"}},\"markdownRemark\":{\"id\":\"/Users/linzebin/Workspace/blog/src/pages/javascript-number-precision/index.md absPath of file >>> MarkdownRemark\",\"html\":\"<p>原文链接 <a href=\\\"http://www.css88.com/archives/7340#more-7340\\\">http://www.css88.com/archives/7340#more-7340</a></p>\\n<h2 id=\\\"问题描述\\\"><a href=\\\"#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>问题描述</h2>\\n<p>在JavaScrip中的整数和浮点数都属于<code class=\\\"language-text\\\">Number</code>数据类型，所有的数字都是以64位浮点数的形式存储的，即便整数也是如此，所以我们打印<code class=\\\"language-text\\\">1.00</code>这样的浮点数的结果是<code class=\\\"language-text\\\">1</code>而非<code class=\\\"language-text\\\">1.00</code>。在一些特殊的数值表示中，例如金额，这样看上去有点变扭，但至少是正确了。然而要命的是，当浮点数做数学运算的时候，你经常会发现一些问题，举几个例子：</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token number\\\">0.1</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token number\\\">0.2</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">0.30000000000000004</span>\\n<span class=\\\"token number\\\">0.3</span> <span class=\\\"token operator\\\">-</span> <span class=\\\"token number\\\">0.2</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">0.09999999999999998</span>\\n<span class=\\\"token number\\\">19.9</span> <span class=\\\"token operator\\\">*</span> <span class=\\\"token number\\\">100</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">1989.9999999999998</span>\\n<span class=\\\"token number\\\">0.3</span> <span class=\\\"token operator\\\">/</span> <span class=\\\"token number\\\">0.1</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">2.9999999999999996</span></code></pre>\\n      </div>\\n<h2 id=\\\"问题的原因\\\"><a href=\\\"#%E9%97%AE%E9%A2%98%E7%9A%84%E5%8E%9F%E5%9B%A0\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>问题的原因</h2>\\n<p>JavaScript里的数字采用<a href=\\\"https://zh.wikipedia.org/wiki/IEEE_754\\\">IEEE 754标准</a>的64位双精度浮点数，对于64位浮点数在内存中的表示，最高的1位是符号位，接着是11位是指数，剩下的52位为有效数字，具体：</p>\\n<ul>\\n<li>第0位：符号位，s标识，0表示正数，1表示负数；</li>\\n<li>第1位到第11位：存储指数部分，e表示；</li>\\n<li>第12位到63位：储存小数部分（即有效数字），f表示\\n如图：\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/blog/static/IEEE754_floating-9bc58048215bee54b631f607a11b3962-c1266.jpg\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 40.166666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd6AsD//xAAWEAADAAAAAAAAAAAAAAAAAAAAECH/2gAIAQEAAQUCKv/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABcQAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQEAAT8hdGFZp//aAAwDAQACAAMAAAAQAA//xAAVEQEBAAAAAAAAAAAAAAAAAAAQQf/aAAgBAwEBPxCH/8QAFREBAQAAAAAAAAAAAAAAAAAAEEH/2gAIAQIBAT8Qp//EABsQAQEAAQUAAAAAAAAAAAAAAAERACExQVFh/9oACAEBAAE/ENZlmUDg7N8sIB8z/9k='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"x\\\"\\n        title=\\\"\\\"\\n        src=\\\"/blog/static/IEEE754_floating-9bc58048215bee54b631f607a11b3962-f8fb9.jpg\\\"\\n        srcset=\\\"/blog/static/IEEE754_floating-9bc58048215bee54b631f607a11b3962-e8976.jpg 148w,\\n/blog/static/IEEE754_floating-9bc58048215bee54b631f607a11b3962-63df2.jpg 295w,\\n/blog/static/IEEE754_floating-9bc58048215bee54b631f607a11b3962-f8fb9.jpg 590w,\\n/blog/static/IEEE754_floating-9bc58048215bee54b631f607a11b3962-85e3d.jpg 885w,\\n/blog/static/IEEE754_floating-9bc58048215bee54b631f607a11b3962-d1924.jpg 1180w,\\n/blog/static/IEEE754_floating-9bc58048215bee54b631f607a11b3962-c1266.jpg 1200w\\\"\\n        sizes=\\\"(max-width: 590px) 100vw, 590px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    \\n符号位决定了一个数的正负，指数部分决定了数值的大小，小数部分决定了数字的精度。IEEE 754规定，有效数字第一位默认总是1，不保存再64位浮点数数之中。也就是说，有效数字总是1.xx…xx的形式，其中xx..xx的部分保存在64位浮点数之中，最长可能为52位。因此，JavaScript提供的有效数字最长为53个二进制位（64位浮点的后52位+有效数字的第一位）。</li>\\n</ul>\\n<h3 id=\\\"计算过程\\\"><a href=\\\"#%E8%AE%A1%E7%AE%97%E8%BF%87%E7%A8%8B\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>计算过程</h3>\\n<p>比如在JavaScript中计算<code class=\\\"language-text\\\">0.1+0.2</code>时，到底发生了什么呢？\\n首先，十进制的<code class=\\\"language-text\\\">0.1</code>和<code class=\\\"language-text\\\">0.2</code>都会被转换成二进制，但由于浮点数用二进制表达时时无穷的，例如：</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token number\\\">0.1</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span> <span class=\\\"token number\\\">0.0001100110011001</span><span class=\\\"token operator\\\">...</span> <span class=\\\"token punctuation\\\">(</span>无限<span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token number\\\">0.2</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span> <span class=\\\"token number\\\">0.0011001100110011</span><span class=\\\"token operator\\\">...</span> <span class=\\\"token punctuation\\\">(</span>无限<span class=\\\"token punctuation\\\">)</span></code></pre>\\n      </div>\\n<p>IEEE 754标准的64位双精度浮点数的小数部分最多支持53位二进制，所以两者相加之后得到二进制位：</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token number\\\">0.0100110011001100110011001100110011001100110011001100</span></code></pre>\\n      </div>\\n<p>因浮点数小数位的限制而截断的二进制数字，再转换为十进制，就成了<code class=\\\"language-text\\\">0.30000000000000004</code>。所以在进行算术计算时会产生误差。</p>\\n<h3 id=\\\"整数精度问题\\\"><a href=\\\"#%E6%95%B4%E6%95%B0%E7%B2%BE%E5%BA%A6%E9%97%AE%E9%A2%98\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>整数精度问题</h3>\\n<p>在JavaScript中，整数精度同样存在的问题，先来看看问题：</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\">console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">19571992547450991</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span> <span class=\\\"token comment\\\">//=> 19571992547450990</span>\\nconsole<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">19571992547450991</span><span class=\\\"token operator\\\">===</span><span class=\\\"token number\\\">19571992547450992</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span> <span class=\\\"token comment\\\">//=> true</span></code></pre>\\n      </div>\\n<p>同样的原因，在JavaScript中<code class=\\\"language-text\\\">Number</code>类型统一按浮点数处理，整数是按最大54位来算最大(2^53-1，Number.MAX<em>SAFE</em>INTEGER，9007199254740991)和最小(-(2^53-1)，Number.MIN<em>SAFE</em>INTEGER,-9007199254740991)安全整数范围。所以只要超过了这个范围，就会存在被社区的精度问题。</p>\\n<p>当然这个问题并不只是在JavaScript中才会出现，几乎所有的编程语言都采用了IEEE-745浮点数表示法，任何使用二进制浮点数的编程语言都会有这个问题，只不过在很多其他语言中已经封装好了方法来避免精度的问题，而JavaScript是一门弱类型的语言，从设计思想上就没有对浮点数有个严格的数据类型，所以精度误差的问题就显得格外突出。</p>\\n<h2 id=\\\"解决方案\\\"><a href=\\\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>解决方案</h2>\\n<h3 id=\\\"类库\\\"><a href=\\\"#%E7%B1%BB%E5%BA%93\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>类库</h3>\\n<p>通常这种对精度要求高的计算都应该交给后端去计算和存储，因为后端有成熟的库来解决这种计算问题。前端也有几个不错的库，而且如果前端能及时并准确计算出结果值并展示给用户，能提升不少用户体验</p>\\n<h4 id=\\\"mathjs\\\"><a href=\\\"#mathjs\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Math.js</h4>\\n<p>Math.js 是专门为 JavaScript 和 Node.js 提供的一个广泛的数学库。它具有灵活的表达式解析器，支持符号计算，配有大量内置函数和常量，并提供集成解决方案来处理不同的数据类型。像数字，大数字(超出安全数的数字)，复数，分数，单位和矩阵。 功能强大，易于使用。</p>\\n<p>官网：<a href=\\\"http://mathjs.org/\\\">http://mathjs.org/</a><br>\\nGithub: <a href=\\\"https://github.com/josdejong/mathjs\\\">https://github.com/josdejong/mathjs</a></p>\\n<h4 id=\\\"decimaljs\\\"><a href=\\\"#decimaljs\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>decimal.js</h4>\\n<p>为JavaScript 提供十进制类型的任意精度数值。</p>\\n<p>官网：<a href=\\\"http://mikemcl.github.io/decimal.js/\\\">http://mikemcl.github.io/decimal.js/</a><br>\\nGitHub：<a href=\\\"https://github.com/MikeMcl/big.js/\\\">https://github.com/MikeMcl/big.js/</a></p>\\n<h4 id=\\\"number-precision\\\"><a href=\\\"#number-precision\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>number-precision</h4>\\n<p>一个小型的JavaScript，专门为了处理高精度浮点数的加减乘除</p>\\n<p>Github：<a href=\\\"https://github.com/nefe/number-precision\\\">https://github.com/nefe/number-precision</a>  </p>\\n<h3 id=\\\"整数\\\"><a href=\\\"#%E6%95%B4%E6%95%B0\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>整数</h3>\\n<p>把所有小数转化成小数进行计算，再转化成小数（其实这也是number-precision库的核心思路）</p>\",\"frontmatter\":{\"title\":\"【转】JavaScript浮点数运算精度缺失\",\"date\":\"June 19, 2018\"},\"headings\":[{\"value\":\"问题描述\",\"depth\":2},{\"value\":\"问题的原因\",\"depth\":2},{\"value\":\"计算过程\",\"depth\":3},{\"value\":\"整数精度问题\",\"depth\":3},{\"value\":\"解决方案\",\"depth\":2},{\"value\":\"类库\",\"depth\":3},{\"value\":\"Math.js\",\"depth\":4},{\"value\":\"decimal.js\",\"depth\":4},{\"value\":\"number-precision\",\"depth\":4},{\"value\":\"整数\",\"depth\":3}]}},\"pathContext\":{\"slug\":\"/javascript-number-precision/\",\"previous\":{\"fields\":{\"slug\":\"/debug-gulp-task-in-vscode/\"},\"frontmatter\":{\"title\":\"在vscode中调试gulp task\"}},\"next\":{\"fields\":{\"slug\":\"/jquery-ts-declaration/\"},\"frontmatter\":{\"title\":\"如何为jQuery插件编写声明\"}}}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---javascript-number-precision-ad9af8133835ff006f22.js","module.exports = {\"data\":{\"site\":{\"siteMetadata\":{\"title\":\"剑与魔法\",\"author\":\"林泽斌\"}},\"markdownRemark\":{\"id\":\"/Users/linzebin/Workspace/blog/src/pages/javascript-number-precision/index.md absPath of file >>> MarkdownRemark\",\"html\":\"<p>原文链接 <a href=\\\"http://www.css88.com/archives/7340#more-7340\\\">http://www.css88.com/archives/7340#more-7340</a></p>\\n<h2 id=\\\"问题描述\\\"><a href=\\\"#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>问题描述</h2>\\n<p>在JavaScrip中的整数和浮点数都属于<code class=\\\"language-text\\\">Number</code>数据类型，所有的数字都是以64位浮点数的形式存储的，即便整数也是如此，所以我们打印<code class=\\\"language-text\\\">1.00</code>这样的浮点数的结果是<code class=\\\"language-text\\\">1</code>而非<code class=\\\"language-text\\\">1.00</code>。在一些特殊的数值表示中，例如金额，这样看上去有点变扭，但至少是正确了。然而要命的是，当浮点数做数学运算的时候，你经常会发现一些问题，举几个例子：</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token number\\\">0.1</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token number\\\">0.2</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">0.30000000000000004</span>\\n<span class=\\\"token number\\\">0.3</span> <span class=\\\"token operator\\\">-</span> <span class=\\\"token number\\\">0.2</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">0.09999999999999998</span>\\n<span class=\\\"token number\\\">19.9</span> <span class=\\\"token operator\\\">*</span> <span class=\\\"token number\\\">100</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">1989.9999999999998</span>\\n<span class=\\\"token number\\\">0.3</span> <span class=\\\"token operator\\\">/</span> <span class=\\\"token number\\\">0.1</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">2.9999999999999996</span></code></pre>\\n      </div>\\n<h2 id=\\\"问题的原因\\\"><a href=\\\"#%E9%97%AE%E9%A2%98%E7%9A%84%E5%8E%9F%E5%9B%A0\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>问题的原因</h2>\\n<p>JavaScript里的数字采用<a href=\\\"https://zh.wikipedia.org/wiki/IEEE_754\\\">IEEE 754标准</a>的64位双精度浮点数，对于64位浮点数在内存中的表示，最高的1位是符号位，接着是11位是指数，剩下的52位为有效数字，具体：</p>\\n<ul>\\n<li>第0位：符号位，s标识，0表示正数，1表示负数；</li>\\n<li>第1位到第11位：存储指数部分，e表示；</li>\\n<li>第12位到63位：储存小数部分（即有效数字），f表示\\n如图：\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/blog/static/IEEE754_floating-9bc58048215bee54b631f607a11b3962-c1266.jpg\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 40.166666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd6AsD//xAAWEAADAAAAAAAAAAAAAAAAAAAAECH/2gAIAQEAAQUCKv/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABcQAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQEAAT8hdGFZp//aAAwDAQACAAMAAAAQAA//xAAVEQEBAAAAAAAAAAAAAAAAAAAQQf/aAAgBAwEBPxCH/8QAFREBAQAAAAAAAAAAAAAAAAAAEEH/2gAIAQIBAT8Qp//EABsQAQEAAQUAAAAAAAAAAAAAAAERACExQVFh/9oACAEBAAE/ENZlmUDg7N8sIB8z/9k='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"x\\\"\\n        title=\\\"\\\"\\n        src=\\\"/blog/static/IEEE754_floating-9bc58048215bee54b631f607a11b3962-f8fb9.jpg\\\"\\n        srcset=\\\"/blog/static/IEEE754_floating-9bc58048215bee54b631f607a11b3962-e8976.jpg 148w,\\n/blog/static/IEEE754_floating-9bc58048215bee54b631f607a11b3962-63df2.jpg 295w,\\n/blog/static/IEEE754_floating-9bc58048215bee54b631f607a11b3962-f8fb9.jpg 590w,\\n/blog/static/IEEE754_floating-9bc58048215bee54b631f607a11b3962-85e3d.jpg 885w,\\n/blog/static/IEEE754_floating-9bc58048215bee54b631f607a11b3962-d1924.jpg 1180w,\\n/blog/static/IEEE754_floating-9bc58048215bee54b631f607a11b3962-c1266.jpg 1200w\\\"\\n        sizes=\\\"(max-width: 590px) 100vw, 590px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    \\n符号位决定了一个数的正负，指数部分决定了数值的大小，小数部分决定了数字的精度。IEEE 754规定，有效数字第一位默认总是1，不保存再64位浮点数数之中。也就是说，有效数字总是1.xx…xx的形式，其中xx..xx的部分保存在64位浮点数之中，最长可能为52位。因此，JavaScript提供的有效数字最长为53个二进制位（64位浮点的后52位+有效数字的第一位）。</li>\\n</ul>\\n<h3 id=\\\"计算过程\\\"><a href=\\\"#%E8%AE%A1%E7%AE%97%E8%BF%87%E7%A8%8B\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>计算过程</h3>\\n<p>比如在JavaScript中计算<code class=\\\"language-text\\\">0.1+0.2</code>时，到底发生了什么呢？\\n首先，十进制的<code class=\\\"language-text\\\">0.1</code>和<code class=\\\"language-text\\\">0.2</code>都会被转换成二进制，但由于浮点数用二进制表达时时无穷的，例如：</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token number\\\">0.1</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span> <span class=\\\"token number\\\">0.0001100110011001</span><span class=\\\"token operator\\\">...</span> <span class=\\\"token punctuation\\\">(</span>无限<span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token number\\\">0.2</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span> <span class=\\\"token number\\\">0.0011001100110011</span><span class=\\\"token operator\\\">...</span> <span class=\\\"token punctuation\\\">(</span>无限<span class=\\\"token punctuation\\\">)</span></code></pre>\\n      </div>\\n<p>IEEE 754标准的64位双精度浮点数的小数部分最多支持53位二进制，所以两者相加之后得到二进制位：</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token number\\\">0.0100110011001100110011001100110011001100110011001100</span></code></pre>\\n      </div>\\n<p>因浮点数小数位的限制而截断的二进制数字，再转换为十进制，就成了<code class=\\\"language-text\\\">0.30000000000000004</code>。所以在进行算术计算时会产生误差。</p>\\n<h3 id=\\\"整数精度问题\\\"><a href=\\\"#%E6%95%B4%E6%95%B0%E7%B2%BE%E5%BA%A6%E9%97%AE%E9%A2%98\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>整数精度问题</h3>\\n<p>在JavaScript中，整数精度同样存在的问题，先来看看问题：</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\">console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">19571992547450991</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span> <span class=\\\"token comment\\\">//=> 19571992547450990</span>\\nconsole<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">19571992547450991</span><span class=\\\"token operator\\\">===</span><span class=\\\"token number\\\">19571992547450992</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span> <span class=\\\"token comment\\\">//=> true</span></code></pre>\\n      </div>\\n<p>同样的原因，在JavaScript中<code class=\\\"language-text\\\">Number</code>类型统一按浮点数处理，整数是按最大54位来算最大(2^53-1，Number.MAX<em>SAFE</em>INTEGER，9007199254740991)和最小(-(2^53-1)，Number.MIN<em>SAFE</em>INTEGER,-9007199254740991)安全整数范围。所以只要超过了这个范围，就会存在被社区的精度问题。</p>\\n<p>当然这个问题并不只是在JavaScript中才会出现，几乎所有的编程语言都采用了IEEE-745浮点数表示法，任何使用二进制浮点数的编程语言都会有这个问题，只不过在很多其他语言中已经封装好了方法来避免精度的问题，而JavaScript是一门弱类型的语言，从设计思想上就没有对浮点数有个严格的数据类型，所以精度误差的问题就显得格外突出。</p>\\n<h2 id=\\\"解决方案\\\"><a href=\\\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>解决方案</h2>\\n<h3 id=\\\"类库\\\"><a href=\\\"#%E7%B1%BB%E5%BA%93\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>类库</h3>\\n<p>通常这种对精度要求高的计算都应该交给后端去计算和存储，因为后端有成熟的库来解决这种计算问题。前端也有几个不错的库，而且如果前端能及时并准确计算出结果值并展示给用户，能提升不少用户体验</p>\\n<h4 id=\\\"mathjs\\\"><a href=\\\"#mathjs\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Math.js</h4>\\n<p>Math.js 是专门为 JavaScript 和 Node.js 提供的一个广泛的数学库。它具有灵活的表达式解析器，支持符号计算，配有大量内置函数和常量，并提供集成解决方案来处理不同的数据类型。像数字，大数字(超出安全数的数字)，复数，分数，单位和矩阵。 功能强大，易于使用。</p>\\n<p>官网：<a href=\\\"http://mathjs.org/\\\">http://mathjs.org/</a><br>\\nGithub: <a href=\\\"https://github.com/josdejong/mathjs\\\">https://github.com/josdejong/mathjs</a></p>\\n<h4 id=\\\"decimaljs\\\"><a href=\\\"#decimaljs\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>decimal.js</h4>\\n<p>为JavaScript 提供十进制类型的任意精度数值。</p>\\n<p>官网：<a href=\\\"http://mikemcl.github.io/decimal.js/\\\">http://mikemcl.github.io/decimal.js/</a><br>\\nGitHub：<a href=\\\"https://github.com/MikeMcl/big.js/\\\">https://github.com/MikeMcl/big.js/</a></p>\\n<h4 id=\\\"number-precision\\\"><a href=\\\"#number-precision\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>number-precision</h4>\\n<p>一个小型的JavaScript，专门为了处理高精度浮点数的加减乘除</p>\\n<p>Github：<a href=\\\"https://github.com/nefe/number-precision\\\">https://github.com/nefe/number-precision</a>  </p>\\n<h3 id=\\\"整数\\\"><a href=\\\"#%E6%95%B4%E6%95%B0\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>整数</h3>\\n<p>把所有小数转化成小数进行计算，再转化成小数（其实这也是number-precision库的核心思路）</p>\",\"frontmatter\":{\"title\":\"【转】JavaScript浮点数运算精度缺失\",\"date\":\"June 19, 2018\"},\"headings\":[{\"value\":\"问题描述\",\"depth\":2},{\"value\":\"问题的原因\",\"depth\":2},{\"value\":\"计算过程\",\"depth\":3},{\"value\":\"整数精度问题\",\"depth\":3},{\"value\":\"解决方案\",\"depth\":2},{\"value\":\"类库\",\"depth\":3},{\"value\":\"Math.js\",\"depth\":4},{\"value\":\"decimal.js\",\"depth\":4},{\"value\":\"number-precision\",\"depth\":4},{\"value\":\"整数\",\"depth\":3}]}},\"pathContext\":{\"slug\":\"/javascript-number-precision/\",\"previous\":{\"fields\":{\"slug\":\"/debug-gulp-task-in-vscode/\"},\"frontmatter\":{\"title\":\"在vscode中调试gulp task\"}},\"next\":{\"fields\":{\"slug\":\"/jquery-ts-declaration/\"},\"frontmatter\":{\"title\":\"如何为jQuery插件编写声明\"}}}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/javascript-number-precision.json\n// module id = 263\n// module chunks = 35175243055970"],"sourceRoot":""}